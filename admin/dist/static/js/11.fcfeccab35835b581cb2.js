webpackJsonp([11],{"2BjH":function(t,e){},Quw4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("4YfN"),r=n.n(o),s=n("HVJf"),a={data:function(){return{buttonLoading:!1,form:{name:"",password:""},rules:{name:[{required:!0,message:"不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]}}},created:function(){this.$Loading.finish()},methods:r()({},Object(s.b)({login:"admin/login"}),{handleSubmit:function(){var t=this;this.buttonLoading=!0,this.$refs.loginForm.validate(function(e){if(!e)return t.$Message.error("表单验证失败!"),t.buttonLoading=!1,!1;t.login(t.form).then(function(e){console.log(e),t.$ls.set("token",e.data.token),t.$Message.success("登录成功！"),t.buttonLoading=!1,window.location.href="/"}).catch(function(e){t.buttonLoading=!1,401!==e.status&&403!==e.status||t.$Message.error(e.data.msg||"登录失败！")})})}})},i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login",on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSubmit(e)}}},[n("div",{staticClass:"login-con"},[n("Card",{attrs:{bordered:!1}},[n("p",{attrs:{slot:"title"},slot:"title"},[n("Icon",{attrs:{type:"log-in"}}),t._v("\n        欢迎登录\n      ")],1),t._v(" "),n("div",{staticClass:"form-con"},[n("Form",{ref:"loginForm",attrs:{model:t.form,rules:t.rules}},[n("FormItem",{attrs:{prop:"name"}},[n("i-input",{attrs:{placeholder:"请输入用户名"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},[n("span",{attrs:{slot:"prepend"},slot:"prepend"},[n("Icon",{attrs:{size:16,type:"person"}})],1)])],1),t._v(" "),n("FormItem",{attrs:{prop:"password"}},[n("i-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}},[n("span",{attrs:{slot:"prepend"},slot:"prepend"},[n("Icon",{attrs:{size:14,type:"locked"}})],1)])],1),t._v(" "),n("FormItem",[n("Button",{attrs:{loading:t.buttonLoading,type:"primary",long:""},on:{click:t.handleSubmit}},[t._v("登录")])],1)],1)],1)])],1)])},staticRenderFns:[]};var l=n("C7Lr")(a,i,!1,function(t){n("2BjH")},null,null);e.default=l.exports}});
//# sourceMappingURL=11.fcfeccab35835b581cb2.js.map